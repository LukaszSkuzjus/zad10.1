var motherDiv=$("div").first();console.log(motherDiv);var div=$("<div></div>"),p=$("<p></p>"),span=$("<span></span>");div=div.append(p).append(span.text("span 1"));for(var i=0;i<5;i++)$("<div></div>").append($("<p></p>")).append($("<span></span>").text("span "+(i+2))).appendTo(motherDiv),$("<div></div>").append($("<p></p>").text(i+2)).appendTo(motherDiv);$("span").each(function(p,n){(p-1)%2==0&&$(n).css("color","red")}),$("p").each(function(p,n){$('<button class="btn" data-tmp="'+p+'">Click me</button>').appendTo($(n).parent())}),$("button").each(function(p,n){$(n).on("click",function(){alert($(n).prev().text())})});